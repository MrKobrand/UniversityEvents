# Контрольная работа по дисциплине "Технологии программирования"

### Задание
Реализовать проект, который позволяет работать с мероприятиями, проводимыми ВУЗом.

#### Описание проекта
Проект построен с использованием платформы .NET 8.0 на языке C#. 

##### Структура проекта
Структура проекта представляет из себя четыре слоя: 
1. Уровень домена;
2. Уровень приложения;
3. Уровень инфраструктуры;
4. Уровень представления.

![Clean architecture solution structure](https://i.ytimg.com/vi/5OtUm1BLmG0/maxresdefault.jpg)

В чистой архитектуре уровни домена и приложения находятся в центре проекта. Это известно как ядро системы.

Уровень домена содержит корпоративную логику и типы, а уровень приложения — бизнес-логику и типы. Разница в том, что корпоративная логика может использоваться во многих системах, тогда как бизнес-логика обычно используется только внутри этой системы.

Ядро не должно зависеть от доступа к данным и других проблем инфраструктуры, поэтому эти зависимости инвертируются. Это достигается путем добавления интерфейсов или абстракций в ядро, которые реализуются уровнями вне ядра. Например, если вы хотите реализовать шаблон репозитория, вы должны сделать это, добавив интерфейс в ядро и добавив реализацию в инфраструктуру.

Ядро не зависит ни от одного другого уровня. Инфраструктура и представление зависят от ядра, но не друг от друга.

##### UI-представление
Для создания интерактивного клиентского веб-интерфейса с помощью .NET была использована платформа Blazor, которая в данном проекте позволяет:

- Создавать насыщенные интерактивные пользовательские интерфейсы с помощью C#;
- Совместно использовать серверную и клиентскую логики приложения, написанной на .NET;
- Отрисовывать пользовательский интерфейс в формате HTML и CSS для широкой поддержки браузеров, включая мобильные браузеры.

##### Организация тестов
Тесты организованы на основе библиотеки Testcontainers. Testcontainers for .NET — это библиотека для поддержки тестов с одноразовыми экземплярами контейнеров Docker для всех совместимых версий .NET Standard. Библиотека построена на основе удаленного API .NET Docker и предоставляет упрощенную реализацию для поддержки тестовой среды при любых обстоятельствах.

##### Используемые библиотеки
В работе использовались следующие библиотеки:
| Название библиотеки                                               | Краткое описание                                                                                           |
| ----------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------- |
| AutoMapper.Extensions.Microsoft.DependencyInjection               | Сканирует сборки и добавляет профили в конфигурацию сопоставления.                                         |
| FluentAssertions                                                  | Библиотека модульных тестов для .NET, которая позволяет легко создавать тесты для правил FluentValidation. |
| FluentValidation.AspNetCore                                       | Расширяет FluentValidation, обеспечивая автоматическую проверку в основных контроллерах ASP.NET.           |
| FluentValidation.DependencyInjectionExtensions                    | Расширяет FluentValidation, обеспечивая автоматическую проверку с Microsoft Dependency Injection.          |
| Microsoft.AspNetCore.Components.WebAssembly                       | Позволяет создавать клиентские SPA с помощью Blazor, работающего под управлением WebAssembly.              |
| Microsoft.AspNetCore.Components.WebAssembly.DevServer             | Сервер разработки для использования при создании приложений Blazor.                                        |
| Microsoft.AspNetCore.Components.WebAssembly.Server                | Функции сервера среды выполнения для приложений ASP.NET Core Blazor.                                       |
| Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore              | Промежуточное ПО ASP.NET Core для страниц ошибок Entity Framework Core.                                    |
| Microsoft.AspNetCore.Mvc.Testing                                  | Поддержка написания функциональных тестов для приложений MVC.                                              |
| Microsoft.AspNetCore.OpenApi                                      | Предоставляет API для аннотирования конечных точек в ASP.NET Core с помощью аннотаций OpenAPI.             |
| Microsoft.AspNetCore.WebUtilities                                 | Утилиты ASP.NET Core, например для работы с формами, составными сообщениями и строками запросов.           |
| Microsoft.EntityFrameworkCore.Design                              | Общие компоненты времени разработки для инструментов Entity Framework Core.                                |
| Microsoft.EntityFrameworkCore.Relational                          | Общие компоненты Entity Framework Core для поставщиков реляционных баз данных.                             |
| Microsoft.EntityFrameworkCore.Tools                               | Основные инструменты Entity Framework для консоли диспетчера пакетов NuGet в Visual Studio.                |
| Microsoft.Extensions.DependencyInjection.Abstractions             | Предоставляет строго типизированный способ указания параметров и доступа с помощью Dependency Injection.   |
| Microsoft.EntityFrameworkCore                                     | Современный преобразователь объектных баз данных для .NET.                                                 |
| Microsoft.Extensions.Diagnostics.HealthChecks.EntityFrameworkCore | Компоненты для выполнения проверок работоспособности с использованием EntityFrameworkCore.                 |
| Moq                                                               | Самая популярная и дружелюбная библиотека моков для .NET.                                                  |
| Npgsql.EntityFrameworkCore.PostgreSQL                             | Поставщик EF Core с открытым исходным кодом для PostgreSQL.                                                |
| xUnit                                                             | Платформа модульного тестирования для всех языков .NET.                                                    |
| xUnit.Runner.VisualStudio                                         | Раннер VSTest для xUnit.net                                                                                |
| Respawn                                                           | Интеллектуальный сброс для тестов базы данных.                                                             |
| Swashbuckle.AspNetCore                                            | Инструменты Swagger для документирования API, созданных на основе ASP.NET Core.                            |
| Testcontainers.PostgreSql                                         | Библиотека для поддержки тестов с одноразовыми экземплярами контейнеров Docker PostgreSql                  |
| Microsoft.NET.Test.Sdk                                            | Целевые объекты и свойства MSbuild для создания тестовых проектов .NET.                                    |
| coverlet.collector                                                | Кроссплатформенная библиотека покрытия кода для .NET с поддержкой покрытия строк, ветвей и методов.        |

### Вывод
В ходе контрольной работы был создан проект на языке C#, который позволяет работать с мероприятиями, проводимыми ВУЗом. Приложение было написано на основе [шаблона решения для чистой архитектуры](https://github.com/jasontaylordev/CleanArchitecture) за авторством Jason Taylor. Также были написаны интеграционные тесты, обеспечено автоматическое тестирование через CI/CD GitHub Actions.